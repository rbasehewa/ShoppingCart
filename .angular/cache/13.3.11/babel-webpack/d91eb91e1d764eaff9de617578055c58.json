{"ast":null,"code":"import { addToCart } from 'src/app/cart.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/messenger.service\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"./cart-table-header/cart-table-header.component\";\nimport * as i5 from \"@angular/router\";\n\nfunction CartComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1, \"Your Cart is Empty.\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CartComponent_ul_1_tr_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 9);\n    i0.ɵɵelement(7, \"i\", 10);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.productName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.qty);\n  }\n}\n\nfunction CartComponent_ul_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 3)(1, \"li\", 4)(2, \"table\")(3, \"thead\");\n    i0.ɵɵelement(4, \"app-cart-table-header\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"tbody\");\n    i0.ɵɵtemplate(6, CartComponent_ul_1_tr_6_Template, 8, 2, \"tr\", 5);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"li\", 6)(8, \"strong\");\n    i0.ɵɵtext(9, \"Total :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵpipe(12, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"li\", 7);\n    i0.ɵɵtext(14, \" Total Products : \");\n    i0.ɵɵelementStart(15, \"span\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"button\", 8)(18, \"label\");\n    i0.ɵɵtext(19, \"Continue To Checkout\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.cartItems);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(11, 3, i0.ɵɵpipeBind1(12, 6, ctx_r1.cartTotal$), \"AUD\"), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.itemTotal, \"\");\n  }\n}\n/**\r\n * This is the cart component is Observable messanger service\r\n */\n\n\nexport class CartComponent {\n  constructor(msg, store) {\n    this.msg = msg;\n    this.store = store;\n    this.cartItems = [];\n    this.itemTotal = 0;\n    this.cartTotal$ = store.select('cartTotal');\n  }\n\n  ngOnInit() {\n    // get message is observarble so we have to subscribition will be activate\n    this.msg.getMessage().subscribe(product => {\n      // console.log(product);\n      this.addProductToCart(product);\n    });\n  }\n  /**\r\n   * Add product to cart.\r\n   * @param product\r\n   */\n\n\n  addProductToCart(product) {\n    let productExists = false; // check the product is repating or not\n\n    for (let i in this.cartItems) {\n      if (this.cartItems[i].productName === product.name) {\n        this.cartItems[i].qty++;\n        productExists = true;\n        break;\n      }\n    }\n    /**\r\n     * Add product to cart.\r\n     * @method push\r\n     */\n\n\n    if (!productExists) {\n      this.cartItems.push({\n        productName: product.name,\n        qty: 1,\n        price: product.price\n      });\n    }\n\n    this.itemTotal = 0;\n    this.store.dispatch(addToCart({\n      amount: product.price\n    }));\n    this.cartItems.forEach(item => {\n      this.itemTotal += item.qty;\n    });\n  }\n\n  removeCartItem(product) {\n    this.cartItems.map(index => {\n      if (product.name === product.name) {\n        this.cartItems.splice(index, 1);\n      }\n    });\n  }\n\n}\n\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.MessengerService), i0.ɵɵdirectiveInject(i2.Store));\n};\n\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"list-group\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"list-group\"], [1, \"list-group-item\"], [4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\", \"active\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [\"routerLink\", \"/checkout\", 1, \"btn\", \"btn-md\", \"btn-outline-secondary\", \"product-btn\"], [1, \"btn\", \"btn-danger\"], [1, \"fas\", \"fa-trash-alt\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CartComponent_div_0_Template, 2, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, CartComponent_ul_1_Template, 20, 8, \"ul\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length > 0);\n    }\n  },\n  directives: [i3.NgIf, i4.CartTableHeaderComponent, i3.NgForOf, i5.RouterLink],\n  pipes: [i3.CurrencyPipe, i3.AsyncPipe],\n  styles: [\".list-group[_ngcontent-%COMP%] {\\n  border: 1px solid;\\n}\\n\\n.cart-item-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding-right: 10px;\\n  \\n}\\n\\n.cart-item-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child {\\n  padding-right: 0;\\n  \\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQkFBQTtBQUNKOztBQUVBO0VBQ0ksbUJBQUE7RUFBcUIsaUNBQUE7QUFFekI7O0FBQ0U7RUFDRSxnQkFBQTtFQUFrQixpREFBQTtBQUd0QiIsImZpbGUiOiJjYXJ0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxpc3QtZ3JvdXB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZDtcclxufVxyXG5cclxuLmNhcnQtaXRlbS1yb3cgdGQge1xyXG4gICAgcGFkZGluZy1yaWdodDogMTBweDsgLyogQWRqdXN0IHRoZSBzcGFjaW5nIGFzIG5lZWRlZCAqL1xyXG4gIH1cclxuICBcclxuICAuY2FydC1pdGVtLXJvdyB0ZDpsYXN0LWNoaWxkIHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDA7IC8qIFJlbW92ZSB0aGUgcmlnaHQgcGFkZGluZyBmb3IgdGhlIGxhc3QgY29sdW1uICovXHJcbiAgfSJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/ryanm/OneDrive/Documents/Projects/ShoppingCart/src/app/component/shopping-cart/cart/cart.component.ts"],"names":["addToCart","i0","i1","i2","i3","i4","i5","CartComponent_div_0_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","CartComponent_ul_1_tr_6_Template","ɵɵelement","item_r3","$implicit","ɵɵadvance","ɵɵtextInterpolate","productName","qty","CartComponent_ul_1_Template","ɵɵtemplate","ɵɵpipe","ctx_r1","ɵɵnextContext","ɵɵproperty","cartItems","ɵɵtextInterpolate1","ɵɵpipeBind2","ɵɵpipeBind1","cartTotal$","itemTotal","CartComponent","constructor","msg","store","select","ngOnInit","getMessage","subscribe","product","addProductToCart","productExists","i","name","push","price","dispatch","amount","forEach","item","removeCartItem","map","index","splice","ɵfac","CartComponent_Factory","t","ɵɵdirectiveInject","MessengerService","Store","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","CartComponent_Template","length","directives","NgIf","CartTableHeaderComponent","NgForOf","RouterLink","pipes","CurrencyPipe","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { addToCart } from 'src/app/cart.actions';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/messenger.service\";\r\nimport * as i2 from \"@ngrx/store\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"./cart-table-header/cart-table-header.component\";\r\nimport * as i5 from \"@angular/router\";\r\nfunction CartComponent_div_0_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 2);\r\n    i0.ɵɵtext(1, \"Your Cart is Empty.\\n\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction CartComponent_ul_1_tr_6_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 9);\r\n    i0.ɵɵelement(7, \"i\", 10);\r\n    i0.ɵɵelementEnd()()();\r\n} if (rf & 2) {\r\n    const item_r3 = ctx.$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(item_r3.productName);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(item_r3.qty);\r\n} }\r\nfunction CartComponent_ul_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"ul\", 3)(1, \"li\", 4)(2, \"table\")(3, \"thead\");\r\n    i0.ɵɵelement(4, \"app-cart-table-header\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"tbody\");\r\n    i0.ɵɵtemplate(6, CartComponent_ul_1_tr_6_Template, 8, 2, \"tr\", 5);\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelementStart(7, \"li\", 6)(8, \"strong\");\r\n    i0.ɵɵtext(9, \"Total :\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(10);\r\n    i0.ɵɵpipe(11, \"currency\");\r\n    i0.ɵɵpipe(12, \"async\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(13, \"li\", 7);\r\n    i0.ɵɵtext(14, \" Total Products : \");\r\n    i0.ɵɵelementStart(15, \"span\");\r\n    i0.ɵɵtext(16);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(17, \"button\", 8)(18, \"label\");\r\n    i0.ɵɵtext(19, \"Continue To Checkout\");\r\n    i0.ɵɵelementEnd()()();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(6);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.cartItems);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(11, 3, i0.ɵɵpipeBind1(12, 6, ctx_r1.cartTotal$), \"AUD\"), \" \");\r\n    i0.ɵɵadvance(6);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.itemTotal, \"\");\r\n} }\r\n/**\r\n * This is the cart component is Observable messanger service\r\n */\r\nexport class CartComponent {\r\n    constructor(msg, store) {\r\n        this.msg = msg;\r\n        this.store = store;\r\n        this.cartItems = [];\r\n        this.itemTotal = 0;\r\n        this.cartTotal$ = store.select('cartTotal');\r\n    }\r\n    ngOnInit() {\r\n        // get message is observarble so we have to subscribition will be activate\r\n        this.msg.getMessage().subscribe((product) => {\r\n            // console.log(product);\r\n            this.addProductToCart(product);\r\n        });\r\n    }\r\n    /**\r\n     * Add product to cart.\r\n     * @param product\r\n     */\r\n    addProductToCart(product) {\r\n        let productExists = false;\r\n        // check the product is repating or not\r\n        for (let i in this.cartItems) {\r\n            if (this.cartItems[i].productName === product.name) {\r\n                this.cartItems[i].qty++;\r\n                productExists = true;\r\n                break;\r\n            }\r\n        }\r\n        /**\r\n         * Add product to cart.\r\n         * @method push\r\n         */\r\n        if (!productExists) {\r\n            this.cartItems.push({\r\n                productName: product.name,\r\n                qty: 1,\r\n                price: product.price\r\n            });\r\n        }\r\n        this.itemTotal = 0;\r\n        this.store.dispatch(addToCart({ amount: product.price }));\r\n        this.cartItems.forEach(item => { this.itemTotal += (item.qty); });\r\n    }\r\n    removeCartItem(product) {\r\n        this.cartItems.map((index) => {\r\n            if (product.name === product.name) {\r\n                this.cartItems.splice(index, 1);\r\n            }\r\n        });\r\n    }\r\n}\r\nCartComponent.ɵfac = function CartComponent_Factory(t) { return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.MessengerService), i0.ɵɵdirectiveInject(i2.Store)); };\r\nCartComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: CartComponent, selectors: [[\"app-cart\"]], decls: 2, vars: 2, consts: [[\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"list-group\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"list-group\"], [1, \"list-group-item\"], [4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\", \"active\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [\"routerLink\", \"/checkout\", 1, \"btn\", \"btn-md\", \"btn-outline-secondary\", \"product-btn\"], [1, \"btn\", \"btn-danger\"], [1, \"fas\", \"fa-trash-alt\"]], template: function CartComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, CartComponent_div_0_Template, 2, 0, \"div\", 0);\r\n        i0.ɵɵtemplate(1, CartComponent_ul_1_Template, 20, 8, \"ul\", 1);\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length === 0);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length > 0);\r\n    } }, directives: [i3.NgIf, i4.CartTableHeaderComponent, i3.NgForOf, i5.RouterLink], pipes: [i3.CurrencyPipe, i3.AsyncPipe], styles: [\".list-group[_ngcontent-%COMP%] {\\n  border: 1px solid;\\n}\\n\\n.cart-item-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding-right: 10px;\\n  \\n}\\n\\n.cart-item-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child {\\n  padding-right: 0;\\n  \\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQkFBQTtBQUNKOztBQUVBO0VBQ0ksbUJBQUE7RUFBcUIsaUNBQUE7QUFFekI7O0FBQ0U7RUFDRSxnQkFBQTtFQUFrQixpREFBQTtBQUd0QiIsImZpbGUiOiJjYXJ0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxpc3QtZ3JvdXB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZDtcclxufVxyXG5cclxuLmNhcnQtaXRlbS1yb3cgdGQge1xyXG4gICAgcGFkZGluZy1yaWdodDogMTBweDsgLyogQWRqdXN0IHRoZSBzcGFjaW5nIGFzIG5lZWRlZCAqL1xyXG4gIH1cclxuICBcclxuICAuY2FydC1pdGVtLXJvdyB0ZDpsYXN0LWNoaWxkIHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDA7IC8qIFJlbW92ZSB0aGUgcmlnaHQgcGFkZGluZyBmb3IgdGhlIGxhc3QgY29sdW1uICovXHJcbiAgfSJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}